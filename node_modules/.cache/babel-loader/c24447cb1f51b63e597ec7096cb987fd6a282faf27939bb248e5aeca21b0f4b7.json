{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{updateLoginFormObject,loginToApp,setRegistrationMode,registerUser}from'../actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginForm=function LoginForm(_ref){var username=_ref.username,password=_ref.password,email=_ref.email,loginstate=_ref.loginstate,mode=_ref.mode,handleChange=_ref.handleChange,handleRegisterClick=_ref.handleRegisterClick,handleLoginClick=_ref.handleLoginClick;return/*#__PURE__*/_jsx(\"div\",{id:\"login-form\",className:\"card bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-header\",children:\"Login Form\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:'text',name:'username',onChange:handleChange,placeholder:'user name',value:username})})]}),/*#__PURE__*/_jsxs(\"tr\",{hidden:mode==='login',children:[/*#__PURE__*/_jsx(\"td\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:'text',name:'email',onChange:handleChange,placeholder:'Email',value:email})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:'text',name:'password',onChange:handleChange,placeholder:'password',value:password})})]})]})}),/*#__PURE__*/_jsx(\"input\",{type:'button',value:\"Login\",className:\"btn btn-primary\",hidden:mode==='register',onClick:function onClick(e){return handleLoginClick(e,username,password,loginstate);}}),/*#__PURE__*/_jsx(\"input\",{type:'button',value:\"Register\",className:\"btn btn-primary\",onClick:function onClick(e){return handleRegisterClick(e,username,password,email,loginstate,mode);}})]})]})});};var mapStateToProps=function mapStateToProps(state){console.log(\"MODE: \"+JSON.stringify(state.login));return{username:state.login.username,password:state.login.password,email:state.login.email,loginstate:state.login.loginstate,mode:state.login.mode};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{handleChange:function handleChange(e){var field_name=e.currentTarget.name;var field_value=e.currentTarget.value;dispatch(updateLoginFormObject(field_name,field_value));},handleLoginClick:function handleLoginClick(e,username,password,loginstate){if(username===null||username.length===0||password===null||password.length===0){alert(\"username and password are required!\");return;}else{console.log(\"in LoginForm.handleLoginClick: \");dispatch(loginToApp(dispatch,username,password,loginstate));}},handleRegisterClick:function handleRegisterClick(e,username,password,email,loginstate,mode){if(mode==='login'){dispatch(setRegistrationMode());return;}// if mode = 'register'\nif(username===null||username.length===0||password===null||password.length===0||email===null||email.length===0){alert(\"username, password and email are required!\");return;}else{console.log(\"in LoginForm.handleRegisterClick: \");dispatch(registerUser(dispatch,username,password,email));}}};};var VisibleLoginForm=connect(mapStateToProps,mapDispatchToProps)(LoginForm);export default VisibleLoginForm;","map":{"version":3,"names":["React","connect","updateLoginFormObject","loginToApp","setRegistrationMode","registerUser","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","username","password","email","loginstate","mode","handleChange","handleRegisterClick","handleLoginClick","id","className","children","type","name","onChange","placeholder","value","hidden","onClick","e","mapStateToProps","state","console","log","JSON","stringify","login","mapDispatchToProps","dispatch","field_name","currentTarget","field_value","length","alert","VisibleLoginForm"],"sources":["/home/wasadmin/LabFiles/MsdProject/projectday2/project-react-client-crud (copy)/src/components/Login.js"],"sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { updateLoginFormObject, loginToApp, setRegistrationMode, registerUser } from '../actions'\n\nconst LoginForm = ({ username, password, email, loginstate, mode, handleChange, handleRegisterClick, handleLoginClick }) => {\n  \n  return (\n    <div id='login-form' className=\"card bg-light\">\n        <div>\n            <h4 className=\"card-header\">Login Form</h4>\n            <form >\n                <table className=\"table\" ><tbody>\n                    <tr>\n                        <td>Name:</td>\n                        <td><input type={'text'} name={'username'} onChange={handleChange} \n                             placeholder={'user name'}\n                             value={username} /></td>\n                    </tr>\n                    <tr hidden={mode === 'login'}>\n                        <td>Email:</td>\n                        <td><input type={'text'} name={'email'} onChange={handleChange} \n                             placeholder={'Email'}\n                             value={email} /></td>\n                    </tr>                    \n                    <tr>\n                        <td>Password:</td>\n                        <td><input type={'text'} name={'password'} onChange={handleChange} \n                             placeholder={'password'}\n                             value={password}/></td>\n                    </tr>                   \n                </tbody></table>\n                <input type={'button'} value=\"Login\" className = 'btn btn-primary' hidden={mode === 'register'}\n                    onClick={ (e)=>handleLoginClick(e, username, password, loginstate) }  />\n                <input type={'button'} value=\"Register\" className = 'btn btn-primary'\n                    onClick={ (e)=>handleRegisterClick(e, username, password, email, loginstate, mode) }  />                    \n            </form>\n        </div>  \n    </div>\n)}\n\nLoginForm.propTypes = {\n    username: PropTypes.string.isRequired,\n    password: PropTypes.string.isRequired\n}\n\nconst mapStateToProps = (state) => {\n  console.log(\"MODE: \" + JSON.stringify(state.login));\n  return {\n    username: state.login.username,\n    password: state.login.password,\n    email: state.login.email,\n    loginstate: state.login.loginstate,\n    mode: state.login.mode\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleChange: (e) => {\n      const field_name = e.currentTarget.name;\n      const field_value = e.currentTarget.value;\n\n      dispatch(updateLoginFormObject(field_name, field_value));\n    },\n    handleLoginClick: (e, username, password, loginstate) => {\n      if (username === null || username.length === 0 || password === null || password.length === 0) {\n        alert(\"username and password are required!\");\n        return;\n      } else {\n        console.log(\"in LoginForm.handleLoginClick: \");\n        dispatch(loginToApp(dispatch, username, password, loginstate));\n      }\n    },\n    handleRegisterClick: (e, username, password, email, loginstate, mode) => {\n      if(mode === 'login'){\n        dispatch(setRegistrationMode());\n        return;\n      }\n      // if mode = 'register'\n      if (username === null || username.length === 0 \n          || password === null || password.length === 0\n          || email === null || email.length === 0) {\n        alert(\"username, password and email are required!\");\n        return;\n      } else {\n        console.log(\"in LoginForm.handleRegisterClick: \");\n        dispatch(registerUser(dispatch, username, password, email));\n      }\n    }\n  }\n}\n\nconst VisibleLoginForm = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(LoginForm)\n\nexport default VisibleLoginForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/home/wasadmin/Documents/src/components/RegistrationList.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Registration from './Registration';\nimport { selectRegistration, updateRegistrationFormUsage, getRegistrations } from '../actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass RegistrationList extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log('in RegistrationList: ' + JSON.stringify(this.props.registrations));\n  }\n  componentDidMount() {\n    if (!this.props.fetched) {\n      this.props.fetchRules(this.props.fetched);\n    }\n    console.log('mount it!');\n  }\n  lookupEventTitle(event_id) {\n    for (let id in this.props.events) {\n      let item = this.props.events[id];\n      if (item.id === event_id) {\n        return item.title;\n      }\n    }\n    return 'event-title';\n  }\n  lookupCustomerName(customer_id) {\n    for (let id in this.props.customers) {\n      let customer = this.props.customers[id];\n      if (customer.id === customer_id) {\n        return customer.name;\n      }\n    }\n    return 'customer-name';\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"registration-list\",\n      className: \"card bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"card-header\",\n        children: \"Event Registrations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"table\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.props.registrations.map(registration => {\n            let event_name = this.lookupEventTitle(+registration.event_id);\n            let customer_name = this.lookupCustomerName(+registration.customer_id);\n            return /*#__PURE__*/_jsxDEV(Registration, {\n              registration: registration,\n              event_name: event_name,\n              customer_name: customer_name,\n              selectedId: this.props.appState.selectedId,\n              onClick: () => this.props.onRegistrationClick(registration)\n            }, registration.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          'paddingLeft': '10px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            width: 'fit-content'\n          },\n          className: \"btn btn-primary\",\n          type: 'button',\n          onClick: this.props.handleNewRegistrationClick,\n          value: \"New Registration\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n}\nRegistrationList.propTypes = {\n  registrations: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired\n  }).isRequired).isRequired\n};\nconst mapStateToProps = state => {\n  console.log(JSON.stringify(state.events));\n  return {\n    registrations: state.registrations,\n    appState: state.appState,\n    customers: state.customers,\n    events: state.events\n  };\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchRules: fetched => {\n      console.log('in RegistrationList.fetchRules:');\n      dispatch(getRegistrations(dispatch));\n      fetched = true;\n    },\n    onRegistrationClick: registration => {\n      console.log('in RegistrationList.onRegistrationClick:' + JSON.stringify(registration));\n      dispatch(selectRegistration(registration));\n      dispatch(updateRegistrationFormUsage('view', registration));\n    },\n    handleNewRegistrationClick: () => {\n      console.log('in RegistrationList.handleNewRegistrationClick:');\n      dispatch(updateRegistrationFormUsage('add'));\n      dispatch(selectRegistration(-1));\n    }\n  };\n};\nconst VisibleRegistrationList = connect(mapStateToProps, mapDispatchToProps)(RegistrationList);\nexport default VisibleRegistrationList;","map":{"version":3,"names":["React","connect","PropTypes","Registration","selectRegistration","updateRegistrationFormUsage","getRegistrations","jsxDEV","_jsxDEV","RegistrationList","Component","constructor","props","console","log","JSON","stringify","registrations","componentDidMount","fetched","fetchRules","lookupEventTitle","event_id","id","events","item","title","lookupCustomerName","customer_id","customers","customer","name","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","registration","event_name","customer_name","selectedId","appState","onClick","onRegistrationClick","style","width","type","handleNewRegistrationClick","value","propTypes","arrayOf","shape","number","isRequired","mapStateToProps","state","mapDispatchToProps","dispatch","VisibleRegistrationList"],"sources":["/home/wasadmin/Documents/src/components/RegistrationList.js"],"sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Registration from './Registration'\nimport { selectRegistration, updateRegistrationFormUsage, getRegistrations } from '../actions'\n\n\nclass RegistrationList extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log('in RegistrationList: ' + JSON.stringify(this.props.registrations));\n  }\n\n  componentDidMount() {\n    if (!this.props.fetched) {\n      this.props.fetchRules(this.props.fetched);\n    }\n    console.log('mount it!');\n  }\n\n  static propTypes = {\n    registrations: PropTypes.arrayOf(PropTypes.shape({\n      id: PropTypes.number.isRequired\n    }).isRequired).isRequired\n  }\n\n  lookupEventTitle( event_id ){\n    \n    for(let id in this.props.events){\n      let item = this.props.events[id];\n      if( item.id === event_id){\n        return item.title;\n      }\n    }\n    return 'event-title';\n  }\n\n  lookupCustomerName( customer_id ){\n    for(let id in this.props.customers){\n      let customer = this.props.customers[id];\n      if( customer.id === customer_id){\n        return customer.name;\n      }\n    }    \n    return 'customer-name';\n  }\n\n  render() {\n\n    return (\n      <div id='registration-list' className='card bg-light'  >\n        <h4 className='card-header' >Event Registrations</h4>\n        <table className='table'><tbody>\n          {this.props.registrations.map(registration => {\n            let event_name = this.lookupEventTitle(+registration.event_id);\n            let customer_name = this.lookupCustomerName(+registration.customer_id);\n            return (\n              <Registration\n                key={registration.id}\n                registration={registration}\n                event_name={event_name}\n                customer_name={customer_name}\n                selectedId={this.props.appState.selectedId}\n                onClick={() => this.props.onRegistrationClick(registration)}\n              />\n            );\n          }\n          )\n          }\n        </tbody></table>\n        <hr></hr>\n        <p style={{'paddingLeft':'10px'}}>\n        <input style={{width:'fit-content'}} className='btn btn-primary'  type={'button'} onClick={this.props.handleNewRegistrationClick} value=\"New Registration\" />\n          </p>         \n        \n      </div>\n    )\n  }\n}\n\n\nconst mapStateToProps = (state) => {\n  console.log(JSON.stringify(state.events));\n  return {\n    registrations: state.registrations,\n    appState: state.appState,\n    customers: state.customers,\n    events: state.events\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchRules: (fetched) => {\n      console.log('in RegistrationList.fetchRules:');\n      dispatch(getRegistrations(dispatch));\n      fetched = true;\n    },\n    onRegistrationClick: (registration) => {\n      console.log('in RegistrationList.onRegistrationClick:' + JSON.stringify(registration));\n      dispatch(selectRegistration(registration));\n      dispatch(updateRegistrationFormUsage('view', registration));\n    },\n    handleNewRegistrationClick: () => {\n      console.log('in RegistrationList.handleNewRegistrationClick:');\n      dispatch(updateRegistrationFormUsage('add'));\n      dispatch(selectRegistration(-1));\n    }\n  }\n}\n\nconst VisibleRegistrationList = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(RegistrationList)\n\nexport default VisibleRegistrationList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
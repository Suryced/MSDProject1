{"ast":null,"code":"import _classCallCheck from\"/home/wasadmin/Documents/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/wasadmin/Documents/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/wasadmin/Documents/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/wasadmin/Documents/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{connect}from'react-redux';import Event from'./Event';import{selectEvent,updateEventFormUsage,getEvents}from'../actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EventList=/*#__PURE__*/function(_React$Component){_inherits(EventList,_React$Component);var _super=_createSuper(EventList);function EventList(props){var _this;_classCallCheck(this,EventList);_this=_super.call(this,props);console.log('in EventList: '+JSON.stringify(_this.props.events));return _this;}_createClass(EventList,[{key:\"componentDidMount\",value:function componentDidMount(){if(!this.props.fetched){this.props.fetchRules(this.props.fetched);}console.log('mount it!');}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{id:\"event-list\",className:\"card bg-light\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-header\",children:\"List of Events\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.props.events.map(function(event){return/*#__PURE__*/_jsx(Event,{event:event,selectedId:_this2.props.appState.selectedId,onClick:function onClick(){return _this2.props.onEventClick(event);}},event.id);})})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{style:{'paddingLeft':'10px'},children:/*#__PURE__*/_jsx(\"input\",{style:{width:'fit-content'},className:\"btn btn-primary\",type:'button',onClick:this.props.handleNewEventClick,value:\"New Event\"})})]});}}]);return EventList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{events:state.events,appState:state.appState};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchRules:function fetchRules(fetched){console.log('in EventList.fetchRules:');dispatch(getEvents(dispatch));fetched=true;},onEventClick:function onEventClick(event){console.log('in EventList.onEventClick:'+JSON.stringify(event));dispatch(selectEvent(event));dispatch(updateEventFormUsage('view',event));},handleNewEventClick:function handleNewEventClick(){console.log('in EventList.handleNewEventClick:');dispatch(updateEventFormUsage('add'));dispatch(selectEvent(-1));}};};var VisibleEventList=connect(mapStateToProps,mapDispatchToProps)(EventList);export default VisibleEventList;","map":{"version":3,"names":["React","connect","Event","selectEvent","updateEventFormUsage","getEvents","jsx","_jsx","jsxs","_jsxs","EventList","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","console","log","JSON","stringify","events","_createClass","key","value","componentDidMount","fetched","fetchRules","render","_this2","id","className","children","map","event","selectedId","appState","onClick","onEventClick","style","width","type","handleNewEventClick","Component","mapStateToProps","state","mapDispatchToProps","dispatch","VisibleEventList"],"sources":["/home/wasadmin/Documents/src/components/EventList.js"],"sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport Event from './Event'\nimport { selectEvent, updateEventFormUsage, getEvents } from '../actions'\n\nclass EventList extends React.Component  {\n  constructor(props) {\n     super(props);\n     console.log('in EventList: ' + JSON.stringify(this.props.events));\n  }\n\n  componentDidMount () {\n      if(!this.props.fetched) {\n          this.props.fetchRules(this.props.fetched);\n      }\n      console.log('mount it!');\n  }\n\n  static propTypes = {\n    events: PropTypes.arrayOf(PropTypes.shape({\n      id: PropTypes.number.isRequired\n    }).isRequired).isRequired\n  }\n\n  render() {\n    return (  \n      <div id='event-list'  className=\"card bg-light\" >\n        <h4 className='card-header'>List of Events</h4>\n          <table className='table'>\n          <thead>\n            <tr>\n              <th>Code</th>\n              <th>Title</th>\n              <th>Description</th>\n            </tr>\n          </thead>            \n            <tbody>\n            {this.props.events.map(event =>\n              <Event\n                key = {event.id}  \n                event={event}\n                selectedId={ this.props.appState.selectedId }  \n                onClick={() => this.props.onEventClick(event)} \n              />\n            )}\n          </tbody></table>\n          <hr></hr>\n          <p style={{'paddingLeft':'10px'}}>\n            <input style={{width:'fit-content'}} className='btn btn-primary' type={'button'} onClick={this.props.handleNewEventClick} value=\"New Event\" />\n          </p>          \n          \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    events: state.events,\n    appState: state.appState\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchRules: (fetched) => {\n      console.log('in EventList.fetchRules:');\n      dispatch(getEvents(dispatch));\n      fetched = true;\n    },\n\t\tonEventClick: (event) => {\n\t\t  console.log('in EventList.onEventClick:' + JSON.stringify(event));\n\t\t  dispatch(selectEvent(event));\n      dispatch(updateEventFormUsage('view', event));\n\t\t},\n    handleNewEventClick: () => {\n      console.log('in EventList.handleNewEventClick:');\n      dispatch(updateEventFormUsage('add'));\n      dispatch(selectEvent(-1));\n    }        \n  }\n}\n\nconst VisibleEventList = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EventList)\n\nexport default VisibleEventList"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
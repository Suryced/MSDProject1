{"ast":null,"code":"import React from'react';import{connect}from'react-redux';import{updateCustomerFormObject}from'../actions';import{updateCustomerFormUsage}from'../actions';import{addCustomer,selectCustomer}from'../actions';import RestAPI from'../rest';import{deleteCustomer}from'../actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var restapi=null;var CustomerForm=function CustomerForm(_ref){var customer=_ref.customer,usage=_ref.usage,handleChange=_ref.handleChange,handleCustomerEditClick=_ref.handleCustomerEditClick,handleEditCancelClick=_ref.handleEditCancelClick,handleCustomerSaveClick=_ref.handleCustomerSaveClick,handleCustomerDeleteClick=_ref.handleCustomerDeleteClick;return/*#__PURE__*/_jsx(\"div\",{id:\"customer-form\",className:\"card bg-light\",hidden:usage==='none',children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"Add or Edit a User/Customer\"})}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"table\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:'text',name:'name',onChange:handleChange,placeholder:'Customer name',value:customer.name,disabled:usage==='none'||usage==='view'})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:'text',name:'email',onChange:handleChange,placeholder:'Email',value:customer.email,disabled:usage==='none'||usage==='view'})})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:'text',name:'password',onChange:handleChange,placeholder:'password',value:customer.password,disabled:usage==='none'||usage==='view'})})]})]})}),/*#__PURE__*/_jsx(\"input\",{type:'button',value:\"Delete\",onClick:function onClick(e){return handleCustomerDeleteClick(e,customer);},hidden:usage==='none'||usage==='view'||usage==='add'}),/*#__PURE__*/_jsx(\"input\",{type:'button',value:\"Save\",onClick:function onClick(e){return handleCustomerSaveClick(e,customer,usage);},hidden:usage==='none'||usage==='view'}),/*#__PURE__*/_jsx(\"input\",{type:'button',value:\"Cancel\",onClick:function onClick(e){return handleEditCancelClick(e,customer,usage);},hidden:usage==='none'||usage==='view'}),/*#__PURE__*/_jsx(\"input\",{type:'button',value:\"Edit\",onClick:function onClick(e){return handleCustomerEditClick(e,customer);},hidden:usage==='none'||usage==='edit'||usage==='add'})]})]})});};var mapStateToProps=function mapStateToProps(state){restapi=new RestAPI(state.login.token);return{customer:state.formState.customer,usage:state.formState.usage,appState:state.appState};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{handleChange:function handleChange(e){var field_name=e.currentTarget.name;var field_value=e.currentTarget.value;dispatch(updateCustomerFormObject(field_name,field_value));},handleCustomerEditClick:function handleCustomerEditClick(event,customer,usage){console.log(\"in CustomerForm.handleCustomerEditClick\");dispatch(updateCustomerFormUsage('edit',customer));},handleEditCancelClick:function handleEditCancelClick(event,customer,usage){console.log(\"in CustomerForm.handleEditCancelClick\");if(usage==='add'){dispatch(updateCustomerFormUsage('none'));}else if(usage==='edit'){dispatch(updateCustomerFormUsage('view',customer));}},handleCustomerSaveClick:function handleCustomerSaveClick(event,customer,usage){console.log(\"in CustomerForm.handleCustomerSaveClick\");dispatch(addCustomer(customer));if(usage==='add'){dispatch(selectCustomer(customer));}dispatch(updateCustomerFormUsage('none'));restapi.putCustomer(dispatch,customer);},handleCustomerDeleteClick:function handleCustomerDeleteClick(event,customer){console.log(\"in CustomerForm.handleCustomerDeleteClick\");console.log(\"customer: \"+JSON.stringify(customer));dispatch(deleteCustomer(customer));dispatch(updateCustomerFormUsage('none'));restapi.deleteCustomer(dispatch,customer);}};};var VisibleCustomerForm=connect(mapStateToProps,mapDispatchToProps)(CustomerForm);export default VisibleCustomerForm;","map":{"version":3,"names":["React","connect","updateCustomerFormObject","updateCustomerFormUsage","addCustomer","selectCustomer","RestAPI","deleteCustomer","jsx","_jsx","jsxs","_jsxs","restapi","CustomerForm","_ref","customer","usage","handleChange","handleCustomerEditClick","handleEditCancelClick","handleCustomerSaveClick","handleCustomerDeleteClick","id","className","hidden","children","type","name","onChange","placeholder","value","disabled","email","password","onClick","e","mapStateToProps","state","login","token","formState","appState","mapDispatchToProps","dispatch","field_name","currentTarget","field_value","event","console","log","putCustomer","JSON","stringify","VisibleCustomerForm"],"sources":["/home/wasadmin/LabFiles/MsdProject/projectday2/project-react-client-crud (copy)/src/components/CustomerForm.js"],"sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { updateCustomerFormObject } from '../actions'\r\nimport { updateCustomerFormUsage } from '../actions'\r\nimport { addCustomer, selectCustomer } from '../actions'\r\nimport RestAPI from '../rest';\r\nimport { deleteCustomer } from '../actions'\r\nlet restapi = null;\r\n\r\nconst CustomerForm = ({ customer, usage, handleChange, handleCustomerEditClick, \r\n                    handleEditCancelClick, handleCustomerSaveClick, \r\n                    handleCustomerDeleteClick }) => (\r\n    <div id='customer-form' className='card bg-light' hidden={ usage === 'none'}>\r\n        <div>\r\n            <div className='card-header'>\r\n            <h4>Add or Edit a User/Customer</h4>\r\n            </div>\r\n            <form >\r\n                <table className='table'><tbody>\r\n                    <tr>\r\n                        <td>Name:</td>\r\n                        <td><input type={'text'} name={'name'} onChange={handleChange} \r\n                             placeholder={'Customer name'}\r\n                             value={customer.name} disabled={usage==='none'||usage==='view'} /></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Email:</td>\r\n                        <td><input type={'text'} name={'email'} onChange={handleChange} \r\n                             placeholder={'Email'}\r\n                             value={customer.email} disabled={usage==='none'||usage==='view'} /></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Password:</td>\r\n                        <td><input type={'text'} name={'password'} onChange={handleChange} \r\n                             placeholder={'password'}\r\n                             value={customer.password} disabled={usage==='none'||usage==='view'} /></td>\r\n                    </tr>                     \r\n                </tbody></table>\r\n                <input type={'button'} value=\"Delete\" \r\n                    onClick={ (e)=>handleCustomerDeleteClick(e, customer) } \r\n                    hidden={usage ==='none' || usage === 'view' || usage === 'add' } />\r\n                <input type={'button'} value=\"Save\" onClick={ (e)=>handleCustomerSaveClick(e, customer, usage) } hidden={ usage === 'none' || usage === 'view'} />\r\n                <input type={'button'} value=\"Cancel\" onClick={ (e)=>handleEditCancelClick(e, customer, usage) } hidden={ usage === 'none' || usage === 'view'} />\r\n                <input type={'button'} value=\"Edit\" onClick={ (e)=>handleCustomerEditClick(e, customer) } hidden={ usage === 'none' || usage === 'edit' || usage === 'add'} />\r\n            </form>\r\n        </div>  \r\n    </div>\r\n)\r\n\r\nCustomerForm.propTypes = {\r\n  customer:  PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n    email: PropTypes.string.isRequired\r\n  }).isRequired\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  restapi = new RestAPI(state.login.token);\r\n  return {\r\n    customer: state.formState.customer,\r\n    usage: state.formState.usage,\r\n    appState: state.appState\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return { \r\n    handleChange: (e) => {\r\n        const field_name = e.currentTarget.name;\r\n        const field_value = e.currentTarget.value;\r\n        dispatch( updateCustomerFormObject( field_name, field_value ));\r\n    },\r\n    handleCustomerEditClick: (event, customer, usage) => {\r\n        console.log(\"in CustomerForm.handleCustomerEditClick\");\r\n        dispatch( updateCustomerFormUsage('edit', customer) );        \r\n    },\r\n    handleEditCancelClick: (event, customer, usage) => {\r\n        console.log(\"in CustomerForm.handleEditCancelClick\");\r\n        if(usage === 'add'){\r\n          dispatch( updateCustomerFormUsage('none') );\r\n        }else if(usage === 'edit'){\r\n          dispatch( updateCustomerFormUsage('view', customer) );\r\n        }     \r\n    },\r\n    handleCustomerSaveClick: (event, customer, usage) => {\r\n        console.log(\"in CustomerForm.handleCustomerSaveClick\");\r\n        dispatch(addCustomer(customer));\r\n        if(usage === 'add'){\r\n            dispatch(selectCustomer(customer));\r\n        }\r\n        dispatch(updateCustomerFormUsage('none'));\r\n        restapi.putCustomer(dispatch, customer);\r\n    },\r\n    handleCustomerDeleteClick: (event, customer) => {\r\n        console.log(\"in CustomerForm.handleCustomerDeleteClick\");\r\n        console.log(\"customer: \" + JSON.stringify(customer));\r\n        dispatch(deleteCustomer(customer));\r\n        dispatch(updateCustomerFormUsage('none')); \r\n        restapi.deleteCustomer(dispatch, customer);       \r\n    }             \r\n  }\r\n}\r\n\r\nconst VisibleCustomerForm = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CustomerForm)\r\n\r\nexport default VisibleCustomerForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}